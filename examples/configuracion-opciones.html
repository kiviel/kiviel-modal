<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiviel Modal - Opciones de Configuraci√≥n</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Kiviel Modal CSS -->
    <link rel="stylesheet" href="../css/kiviel-modal.css">

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
        }

        .demo-section {
            margin-bottom: 40px;
        }

        .demo-section h2 {
            color: #3a7abf;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 10px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .option-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            background: #f9f9f9;
            transition: all 0.3s ease;
        }

        .option-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .option-card h3 {
            color: #667eea;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .option-card p {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .option-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        .badge-true {
            background: #e8f5e9;
            color: #4caf50;
        }

        .badge-false {
            background: #ffebee;
            color: #f44336;
        }

        .badge-default {
            background: #e3f2fd;
            color: #2196f3;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(56, 239, 125, 0.4);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-warning:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }

        .btn-info {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-info:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .success-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .modal-content-wrapper {
            padding: 20px;
        }

        .modal-content-wrapper h3 {
            margin-top: 0;
            color: #3a7abf;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öôÔ∏è Kiviel Modal - Opciones de Configuraci√≥n</h1>
        <p class="subtitle">Explora todas las opciones disponibles para personalizar el comportamiento de tus modales</p>

        <div class="info-box">
            <strong>üéØ Nuevas Caracter√≠sticas:</strong>
            <ul>
                <li>Control de cierre con clic externo (<code>closeOnClickOutside</code>)</li>
                <li>Control de cierre con tecla ESC (<code>closeOnEscape</code>)</li>
                <li>Tama√±o del modal como opci√≥n de configuraci√≥n</li>
                <li>Sintaxis flexible: usa la forma que prefieras</li>
                <li>100% retrocompatible con c√≥digo existente</li>
            </ul>
        </div>

        <!-- Opciones por Defecto -->
        <div class="demo-section">
            <h2>üìã Opciones por Defecto</h2>
            <div class="success-box">
                <code>closeOnClickOutside: true</code> - El modal SE CIERRA al hacer clic fuera<br>
                <code>closeOnEscape: false</code> - El modal NO se cierra con ESC por defecto
            </div>
            <button class="btn btn-primary" onclick="openDefaultModal()">
                Abrir Modal con Opciones por Defecto
            </button>
        </div>

        <!-- Ejemplos de Configuraci√≥n -->
        <div class="demo-section">
            <h2>üéõÔ∏è Ejemplos de Configuraci√≥n</h2>

            <div class="button-grid">
                <!-- Ejemplo 1 -->
                <div class="option-card">
                    <h3>üîí Solo cerrar con bot√≥n X</h3>
                    <p>Este modal NO se cierra al hacer clic fuera ni con ESC. Solo con el bot√≥n de cerrar.</p>
                    <div>
                        <span class="option-badge badge-false">closeOnClickOutside: false</span>
                        <span class="option-badge badge-false">closeOnEscape: false</span>
                    </div>
                    <button class="btn btn-primary" onclick="openNoCloseModal()">Probar</button>
                </div>

                <!-- Ejemplo 2 -->
                <div class="option-card">
                    <h3>‚å®Ô∏è Cerrar solo con ESC</h3>
                    <p>Este modal NO se cierra al hacer clic fuera, pero S√ç con la tecla ESC.</p>
                    <div>
                        <span class="option-badge badge-false">closeOnClickOutside: false</span>
                        <span class="option-badge badge-true">closeOnEscape: true</span>
                    </div>
                    <button class="btn btn-success" onclick="openEscOnlyModal()">Probar</button>
                </div>

                <!-- Ejemplo 3 -->
                <div class="option-card">
                    <h3>üñ±Ô∏è Cerrar solo con clic externo</h3>
                    <p>Este modal S√ç se cierra al hacer clic fuera, pero NO con ESC.</p>
                    <div>
                        <span class="option-badge badge-true">closeOnClickOutside: true</span>
                        <span class="option-badge badge-false">closeOnEscape: false</span>
                    </div>
                    <button class="btn btn-info" onclick="openClickOnlyModal()">Probar</button>
                </div>

                <!-- Ejemplo 4 -->
                <div class="option-card">
                    <h3>‚úÖ Todas las opciones habilitadas</h3>
                    <p>Este modal se puede cerrar de todas las formas: clic externo, ESC, o bot√≥n X.</p>
                    <div>
                        <span class="option-badge badge-true">closeOnClickOutside: true</span>
                        <span class="option-badge badge-true">closeOnEscape: true</span>
                    </div>
                    <button class="btn btn-warning" onclick="openAllEnabledModal()">Probar</button>
                </div>
            </div>
        </div>

        <!-- Casos de Uso Comunes -->
        <div class="demo-section">
            <h2>üíº Casos de Uso Comunes</h2>

            <div class="button-grid">
                <!-- Uso 1 -->
                <div class="option-card">
                    <h3>üì¢ Aviso Importante</h3>
                    <p>Para avisos que el usuario debe leer completamente antes de cerrar.</p>
                    <button class="btn btn-warning" onclick="openImportantNotice()">Ver Ejemplo</button>
                </div>

                <!-- Uso 2 -->
                <div class="option-card">
                    <h3>üìù Formulario Cr√≠tico</h3>
                    <p>Formularios donde no quieres que el usuario cierre accidentalmente.</p>
                    <button class="btn btn-primary" onclick="openCriticalForm()">Ver Ejemplo</button>
                </div>

                <!-- Uso 3 -->
                <div class="option-card">
                    <h3>üìä Galer√≠a de Im√°genes</h3>
                    <p>Modal que se cierra f√°cilmente con ESC para mejor UX.</p>
                    <button class="btn btn-info" onclick="openImageGallery()">Ver Ejemplo</button>
                </div>

                <!-- Uso 4 -->
                <div class="option-card">
                    <h3>‚ö†Ô∏è Confirmaci√≥n de Acci√≥n</h3>
                    <p>Modal de confirmaci√≥n que requiere una decisi√≥n expl√≠cita.</p>
                    <button class="btn btn-success" onclick="openConfirmAction()">Ver Ejemplo</button>
                </div>
            </div>
        </div>

        <!-- Comparaci√≥n de Sintaxis -->
        <div class="demo-section">
            <h2>üìù Comparaci√≥n de Sintaxis</h2>

            <h3>Nueva Sintaxis (Recomendada)</h3>
            <pre><code>$.kivielModal("&lt;p&gt;Contenido&lt;/p&gt;", {
    size: 'lg',
    closeOnClickOutside: false,
    closeOnEscape: true,
    onContentLoaded: function($body, modalId) {
        console.log("Modal cargado:", modalId);
    }
});</code></pre>

            <h3>Sintaxis Legacy (Compatible)</h3>
            <pre><code>$.kivielModal("&lt;p&gt;Contenido&lt;/p&gt;", "lg", {
    closeOnEscape: true,
    onContentLoaded: function($body, modalId) {
        console.log("Modal cargado:", modalId);
    }
});</code></pre>

            <h3>Sintaxis Simple</h3>
            <pre><code>// Usa opciones por defecto
$.kivielModal("&lt;p&gt;Contenido&lt;/p&gt;");

// Con tama√±o espec√≠fico
$.kivielModal("&lt;p&gt;Contenido&lt;/p&gt;", "lg");</code></pre>
        </div>

        <div class="demo-section">
            <h2>üß™ Probador Interactivo</h2>
            <button class="btn btn-primary" onclick="openInteractiveTester()">
                Abrir Probador de Opciones
            </button>
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Kiviel Modal Plugin -->
    <script src="../js/jquery-kiviel-modal.js"></script>

    <script>
        // Modal con opciones por defecto
        function openDefaultModal() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üìã Opciones por Defecto</h3>
                    <p><strong>closeOnClickOutside:</strong> <code>true</code> ‚úÖ</p>
                    <p><strong>closeOnEscape:</strong> <code>false</code> ‚ùå</p>
                    <hr>
                    <p>‚úÖ Puedes cerrar haciendo clic fuera del modal</p>
                    <p>‚ùå NO puedes cerrar presionando ESC</p>
                    <p>‚úÖ Puedes cerrar con el bot√≥n X</p>
                </div>
            `, {
                size: 'md'
            });
        }

        // Modal que NO se cierra con clic externo ni ESC
        function openNoCloseModal() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üîí Modal Restrictivo</h3>
                    <p>Este modal <strong>solo se puede cerrar</strong> con el bot√≥n X en la esquina superior derecha.</p>
                    <div class="warning-box">
                        <strong>Prueba:</strong>
                        <ul>
                            <li>‚ùå Haz clic fuera del modal (no se cierra)</li>
                            <li>‚ùå Presiona ESC (no se cierra)</li>
                            <li>‚úÖ Haz clic en el bot√≥n X (s√≠ se cierra)</li>
                        </ul>
                    </div>
                    <p>Este patr√≥n es √∫til para formularios cr√≠ticos o avisos importantes.</p>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: false,
                closeOnEscape: false
            });
        }

        // Modal que se cierra con ESC
        function openEscOnlyModal() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>‚å®Ô∏è Modal con ESC Habilitado</h3>
                    <p>Este modal se puede cerrar presionando la tecla <kbd>ESC</kbd> o con el bot√≥n X.</p>
                    <div class="info-box">
                        <strong>Prueba:</strong>
                        <ul>
                            <li>‚ùå Haz clic fuera del modal (no se cierra)</li>
                            <li>‚úÖ Presiona ESC (s√≠ se cierra)</li>
                            <li>‚úÖ Haz clic en el bot√≥n X (s√≠ se cierra)</li>
                        </ul>
                    </div>
                    <p>Nota c√≥mo el header dice "Salir (Esc)" en lugar de solo "Cerrar".</p>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: false,
                closeOnEscape: true
            });
        }

        // Modal que se cierra solo con clic externo
        function openClickOnlyModal() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üñ±Ô∏è Modal con Clic Externo</h3>
                    <p>Este modal se puede cerrar haciendo clic fuera o con el bot√≥n X.</p>
                    <div class="info-box">
                        <strong>Prueba:</strong>
                        <ul>
                            <li>‚úÖ Haz clic fuera del modal (s√≠ se cierra)</li>
                            <li>‚ùå Presiona ESC (no se cierra)</li>
                            <li>‚úÖ Haz clic en el bot√≥n X (s√≠ se cierra)</li>
                        </ul>
                    </div>
                    <p>Esta es la configuraci√≥n por defecto de Kiviel Modal.</p>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: true,
                closeOnEscape: false
            });
        }

        // Modal con todas las opciones
        function openAllEnabledModal() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>‚úÖ Todas las Opciones Habilitadas</h3>
                    <p>Este modal se puede cerrar de todas las formas posibles.</p>
                    <div class="success-box">
                        <strong>Prueba:</strong>
                        <ul>
                            <li>‚úÖ Haz clic fuera del modal</li>
                            <li>‚úÖ Presiona ESC</li>
                            <li>‚úÖ Haz clic en el bot√≥n X</li>
                        </ul>
                    </div>
                    <p>Esta configuraci√≥n ofrece m√°xima flexibilidad al usuario.</p>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: true,
                closeOnEscape: true
            });
        }

        // Caso de uso: Aviso importante
        function openImportantNotice() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>‚ö†Ô∏è Aviso Importante</h3>
                    <div class="warning-box">
                        <strong>T√âRMINOS Y CONDICIONES ACTUALIZADOS</strong>
                        <p>Hemos actualizado nuestros t√©rminos y condiciones. Por favor, lee cuidadosamente los cambios antes de continuar.</p>
                    </div>
                    <p>Al hacer clic en "He le√≠do y acepto", confirmas que has le√≠do y aceptas los nuevos t√©rminos.</p>
                    <button class="btn btn-success" onclick="acceptTerms()">He le√≠do y acepto</button>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: false,
                closeOnEscape: false
            });
        }

        function acceptTerms() {
            $.kivielModal.close();
            Swal.fire({
                icon: 'success',
                title: 'T√©rminos Aceptados',
                text: 'Gracias por aceptar los nuevos t√©rminos y condiciones',
                timer: 2000
            });
        }

        // Caso de uso: Formulario cr√≠tico
        function openCriticalForm() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üìù Formulario de Registro</h3>
                    <p>Complete todos los campos antes de enviar. Este formulario no se puede cerrar accidentalmente.</p>
                    <form id="register-form">
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px;">Nombre completo:</label>
                            <input type="text" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" required>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <label style="display: block; margin-bottom: 5px;">Email:</label>
                            <input type="email" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" required>
                        </div>
                        <button type="submit" class="btn btn-success">Enviar Formulario</button>
                        <button type="button" class="btn btn-warning" onclick="$.kivielModal.close()">Cancelar</button>
                    </form>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: false,
                closeOnEscape: false,
                onContentLoaded: function($body) {
                    $body.find('#register-form').on('submit', function(e) {
                        e.preventDefault();
                        $.kivielModal.close();
                        Swal.fire({
                            icon: 'success',
                            title: 'Formulario Enviado',
                            text: 'Tu registro ha sido procesado correctamente'
                        });
                    });
                }
            });
        }

        // Caso de uso: Galer√≠a de im√°genes
        function openImageGallery() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üñºÔ∏è Galer√≠a de Im√°genes</h3>
                    <p style="margin-bottom: 20px;">Presiona <kbd>ESC</kbd> para cerrar la galer√≠a r√°pidamente.</p>
                    <img src="https://picsum.photos/800/400" style="width: 100%; border-radius: 8px; margin-bottom: 15px;">
                    <p style="text-align: center; color: #666;">Imagen de ejemplo</p>
                </div>
            `, {
                size: 'lg',
                closeOnClickOutside: true,
                closeOnEscape: true
            });
        }

        // Caso de uso: Confirmaci√≥n de acci√≥n
        function openConfirmAction() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>‚ö†Ô∏è Confirmar Acci√≥n</h3>
                    <p>¬øEst√°s seguro de que deseas eliminar este elemento?</p>
                    <div class="warning-box">
                        Esta acci√≥n no se puede deshacer.
                    </div>
                    <button class="btn btn-warning" onclick="confirmDelete()">S√≠, eliminar</button>
                    <button class="btn btn-primary" onclick="$.kivielModal.close()">Cancelar</button>
                </div>
            `, {
                size: 'sm',
                closeOnClickOutside: false,
                closeOnEscape: true
            });
        }

        function confirmDelete() {
            $.kivielModal.close();
            Swal.fire({
                icon: 'success',
                title: 'Eliminado',
                text: 'El elemento ha sido eliminado correctamente',
                timer: 2000
            });
        }

        // Probador interactivo
        function openInteractiveTester() {
            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üß™ Probador Interactivo de Opciones</h3>
                    <p>Selecciona las opciones y prueba diferentes configuraciones:</p>

                    <div style="margin: 20px 0;">
                        <label style="display: flex; align-items: center; margin-bottom: 10px;">
                            <input type="checkbox" id="test-click-outside" checked style="margin-right: 10px;">
                            <span><code>closeOnClickOutside</code>: Cerrar al hacer clic fuera</span>
                        </label>

                        <label style="display: flex; align-items: center; margin-bottom: 10px;">
                            <input type="checkbox" id="test-escape" style="margin-right: 10px;">
                            <span><code>closeOnEscape</code>: Cerrar con tecla ESC</span>
                        </label>

                        <label style="display: block; margin-bottom: 10px;">
                            <span style="display: block; margin-bottom: 5px;"><code>size</code>: Tama√±o del modal</span>
                            <select id="test-size" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                                <option value="xs">Extra Peque√±o (xs)</option>
                                <option value="sm">Peque√±o (sm)</option>
                                <option value="md" selected>Mediano (md)</option>
                                <option value="lg">Grande (lg)</option>
                            </select>
                        </label>
                    </div>

                    <button class="btn btn-primary" onclick="testCustomModal()">Probar con estas opciones</button>
                </div>
            `, {
                size: 'md',
                closeOnClickOutside: true,
                closeOnEscape: true
            });
        }

        function testCustomModal() {
            const closeOnClickOutside = document.getElementById('test-click-outside').checked;
            const closeOnEscape = document.getElementById('test-escape').checked;
            const size = document.getElementById('test-size').value;

            $.kivielModal(`
                <div class="modal-content-wrapper">
                    <h3>üéØ Modal de Prueba</h3>
                    <p><strong>Configuraci√≥n actual:</strong></p>
                    <ul>
                        <li><code>size</code>: ${size}</li>
                        <li><code>closeOnClickOutside</code>: ${closeOnClickOutside ? '‚úÖ true' : '‚ùå false'}</li>
                        <li><code>closeOnEscape</code>: ${closeOnEscape ? '‚úÖ true' : '‚ùå false'}</li>
                    </ul>
                    <div class="info-box">
                        ${closeOnClickOutside ? '‚úÖ Puedes cerrar haciendo clic fuera' : '‚ùå NO puedes cerrar haciendo clic fuera'}<br>
                        ${closeOnEscape ? '‚úÖ Puedes cerrar presionando ESC' : '‚ùå NO puedes cerrar presionando ESC'}
                    </div>
                    <button class="btn btn-success" onclick="openInteractiveTester()">Volver al probador</button>
                </div>
            `, {
                size: size,
                closeOnClickOutside: closeOnClickOutside,
                closeOnEscape: closeOnEscape
            });
        }
    </script>
</body>
</html>
